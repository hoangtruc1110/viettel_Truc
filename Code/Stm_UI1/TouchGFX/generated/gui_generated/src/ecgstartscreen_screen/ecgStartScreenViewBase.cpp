/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/ecgstartscreen_screen/ecgStartScreenViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <texts/TextKeysAndLanguages.hpp>
#include <images/BitmapDatabase.hpp>

ecgStartScreenViewBase::ecgStartScreenViewBase()
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);
    
    __background.setPosition(0, 0, 240, 320);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    box1_1.setPosition(0, 0, 240, 320);
    box1_1.setColor(touchgfx::Color::getColorFromRGB(15, 15, 15));
    add(box1_1);

    statusBar1.setXY(0, 0);
    add(statusBar1);

    box2.setPosition(20, 55, 200, 94);
    box2.setColor(touchgfx::Color::getColorFromRGB(10, 21, 30));
    add(box2);

    box2_1.setPosition(20, 160, 200, 94);
    box2_1.setColor(touchgfx::Color::getColorFromRGB(10, 21, 30));
    add(box2_1);

    textArea1.setXY(96, 23);
    textArea1.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    textArea1.setLinespacing(0);
    textArea1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_IRNH));
    add(textArea1);

    textArea2.setXY(36, 186);
    textArea2.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    textArea2.setLinespacing(0);
    textArea2.setTypedText(touchgfx::TypedText(T___SINGLEUSE_X9MK));
    add(textArea2);

    textArea2_1.setXY(158, 201);
    textArea2_1.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    textArea2_1.setLinespacing(0);
    textArea2_1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_L372));
    add(textArea2_1);

    textArea2_1_1.setXY(97, 55);
    textArea2_1_1.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    textArea2_1_1.setLinespacing(0);
    textArea2_1_1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_M8ZF));
    add(textArea2_1_1);

    heartRate.setPosition(89, 186, 63, 50);
    heartRate.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    heartRate.setLinespacing(0);
    Unicode::snprintf(heartRateBuffer, HEARTRATE_SIZE, "%s", touchgfx::TypedText(T___SINGLEUSE_P0AN).getText());
    heartRate.setWildcard(heartRateBuffer);
    heartRate.setTypedText(touchgfx::TypedText(T___SINGLEUSE_BXSF));
    add(heartRate);

    graph.setPosition(29, 83, 182, 60);
    graph.setScale(1);
    graph.setGraphAreaMargin(0, 0, 0, 0);
    graph.setGraphAreaPadding(0, 0, 0, 0);
    graph.setGraphRangeY(0, 100);
    graphLine1Painter.setColor(touchgfx::Color::getColorFromRGB(20, 151, 197));
    graphLine1.setPainter(graphLine1Painter);
    graphLine1.setLineWidth(2);
    graph.addGraphElement(graphLine1);


    graph.addDataPoint(12.41309f);
    graph.addDataPoint(12.31232f);
    graph.addDataPoint(36.86264f);
    graph.addDataPoint(70.59079f);
    graph.addDataPoint(90.0434f);
    graph.addDataPoint(84.15697f);
    graph.addDataPoint(63.35266f);
    graph.addDataPoint(49.16433f);
    graph.addDataPoint(54.06042f);
    graph.addDataPoint(70.07156f);
    graph.addDataPoint(76.66503f);
    graph.addDataPoint(60.5401f);
    graph.addDataPoint(28.99947f);
    graph.addDataPoint(4.42284f);
    graph.addDataPoint(4.73606f);
    graph.addDataPoint(27.66743f);
    graph.addDataPoint(53.1495f);
    graph.addDataPoint(61.60862f);
    graph.addDataPoint(51.35237f);
    graph.addDataPoint(39.16488f);
    graph.addDataPoint(43.71445f);
    graph.addDataPoint(67.21174f);
    graph.addDataPoint(92.36789f);
    graph.addDataPoint(97.60867f);
    graph.addDataPoint(76.66436f);
    graph.addDataPoint(44.56323f);
    graph.addDataPoint(24.48209f);
    graph.addDataPoint(27.43811f);
    graph.addDataPoint(43.33511f);
    graph.addDataPoint(51.41087f);
    graph.addDataPoint(40.29617f);
    graph.addDataPoint(19.09041f);
    graph.addDataPoint(9.17233f);
    graph.addDataPoint(24.24736f);
    graph.addDataPoint(57.02275f);
    graph.addDataPoint(84.87567f);
    graph.addDataPoint(89.46678f);
    graph.addDataPoint(72.45377f);
    graph.addDataPoint(53.03919f);
    graph.addDataPoint(49.75352f);
    graph.addDataPoint(63.31084f);
    graph.addDataPoint(76.31651f);
    graph.addDataPoint(70.03807f);
    graph.addDataPoint(42.69741f);
    graph.addDataPoint(12.29762f);
    graph.addDataPoint(1.1973f);
    graph.addDataPoint(16.43683f);
    graph.addDataPoint(43.76519f);
    graph.addDataPoint(60.78017f);
    graph.addDataPoint(57.09487f);
    add(graph);

    container1.setPosition(84, 269, 74, 33);
    container1.setVisible(false);
    scalableImage1.setBitmap(touchgfx::Bitmap(BITMAP_TIME15S_ID));
    scalableImage1.setPosition(0, 0, 73, 33);
    scalableImage1.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);
    container1.add(scalableImage1);

    box3.setPosition(7, 8, 60, 17);
    box3.setColor(touchgfx::Color::getColorFromRGB(15, 15, 15));
    container1.add(box3);

    countBlink_1.setPosition(9, 10, 12, 12);
    countBlink_1.setCenter(6, 6);
    countBlink_1.setRadius(6);
    countBlink_1.setLineWidth(0);
    countBlink_1.setArc(0, 360);
    countBlink_1Painter.setColor(touchgfx::Color::getColorFromRGB(91, 4, 4));
    countBlink_1.setPainter(countBlink_1Painter);
    container1.add(countBlink_1);

    countBlink.setPosition(9, 10, 12, 12);
    countBlink.setCenter(6, 6);
    countBlink.setRadius(6);
    countBlink.setLineWidth(0);
    countBlink.setArc(0, 360);
    countBlinkPainter.setColor(touchgfx::Color::getColorFromRGB(163, 27, 27));
    countBlink.setPainter(countBlinkPainter);
    container1.add(countBlink);

    secondCount.setXY(25, 8);
    secondCount.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    secondCount.setLinespacing(0);
    Unicode::snprintf(secondCountBuffer, SECONDCOUNT_SIZE, "%s", touchgfx::TypedText(T___SINGLEUSE_VA24).getText());
    secondCount.setWildcard(secondCountBuffer);
    secondCount.resizeToCurrentText();
    secondCount.setTypedText(touchgfx::TypedText(T___SINGLEUSE_2WE3));
    container1.add(secondCount);

    add(container1);

    startImg.setPosition(86, 267, 68, 36);
    buttonBlue1.setXY(0, 0);
    startImg.add(buttonBlue1);

    textArea1_1.setXY(17, 9);
    textArea1_1.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    textArea1_1.setLinespacing(0);
    textArea1_1.setTypedText(touchgfx::TypedText(T___SINGLEUSE_SMAE));
    startImg.add(textArea1_1);

    add(startImg);

    savedImg.setBitmap(touchgfx::Bitmap(BITMAP_SAVEIMAGES_ID));
    savedImg.setPosition(80, 268, 81, 32);
    savedImg.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);
    savedImg.setVisible(false);
    add(savedImg);
}

ecgStartScreenViewBase::~ecgStartScreenViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void ecgStartScreenViewBase::setupScreen()
{
    statusBar1.initialize();
    buttonBlue1.initialize();
}

void ecgStartScreenViewBase::handleKeyEvent(uint8_t key)
{
    if(0 == key)
    {
        //Interaction1
        //When hardware button 0 clicked call virtual function
        //Call selectTrigger
        selectTrigger();
    
    }

    if(5 == key)
    {
        //Interaction2
        //When hardware button 5 clicked call virtual function
        //Call backTrigger
        backTrigger();
    
    }

    if(6 == key)
    {
        //Interaction3
        //When hardware button 6 clicked call virtual function
        //Call homeTrigger
        homeTrigger();
    
    }
}
